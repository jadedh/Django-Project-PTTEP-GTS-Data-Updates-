<!DOCTYPE html>
<html lang="en">
<head>
  
  {% block title %}<title>Local Library</title>{% endblock %}
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  
  <!-- Add additional CSS in static file -->
  {% load static %}
  <link rel="stylesheet" href="{% static 'css/styles.css' %}">

<!--Google Maps Head -->
    <style> 
      #map {
        height: 600px;
        width: 100%;
       }

      #table_div {
        height: 200px;
        width: 50%;
       }       
    </style>


<!-- Google Table Head -->
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript">
      google.charts.load('current', {'packages':['table']});
      google.charts.setOnLoadCallback(drawTable);

      function drawTable() {
        var data = new google.visualization.DataTable();
        data.addColumn('string', 'Site Name');
        data.addColumn('number', 'Salary');
        data.addColumn('number', 'Oil Sale');
        data.addColumn('number', 'Gas Sale');
        data.addColumn('boolean', 'Full Time Employee');
        data.addRows([
          ['Mike',  {v: 10000, f: '$10,000'}, 1000, 2000, true],
          ['Jim',   {v:8000,   f: '$8,000'}, 4000, 2000,  false],
          ['Alice', {v: 12500, f: '$12,500'}, 7400, 1200, true],
          ['Bob',   {v: 7000,  f: '$7,000'}, 1200, 5500, true]
        ]);

        var table = new google.visualization.Table(document.getElementById('table_div'));

        table.draw(data, {showRowNumber: true, width: '100%', height: '100%'});
      }
    </script>
</head>

<body>

  <div class="container-fluid">

    <div class="row">
      <div class="col-sm-2">
      {% block sidebar %}
      <ul class="sidebar-nav">
          <li><a href="{% url 'index' %}">Home</a></li>
          <li><a href="">All books</a></li>
          <li><a href="">All authors</a></li>
      </ul>
     {% endblock %}
      </div>
      <div class="col-sm-10 ">
      {% block content %}{% endblock %}
      </div>
    </div>

  </div>

  <!-- Google Maps Body-->
    <h3>My Google Maps Demo</h3>
    <div id="map"></div>
    <script >
      var map;
      function initMap() {

        //var uluru = {lat:{{intern_prj_data.0.latitude}}, lng:{{intern_prj_data.0.longitude}}};
        var lat = 15;
        var long = 100;
        map = new google.maps.Map(document.getElementById('map'), {
          zoom: 6,
        // center: uluru
        //center: new google.maps.LatLng(-33.92, 151.25)
          center: new google.maps.LatLng(lat,long)
        });

        // var marker = new google.maps.Marker({
        //   position: {lat:{{intern_prj_data.0.latitude}}, lng:{{intern_prj_data.0.longitude}}},
        //   map: map,
        //   title: 'Hello World!'
        // });

        {% for project in intern_prj_data %}
          var marker = new google.maps.Marker({
            position: {lat:{{project.latitude}}, lng:{{project.longitude}}},
            map: map,
            title: 'Hello World!'
          });
        {% endfor %}

      }

    </script>

    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAEqy_Jm7JyXQGOi-J_BtQwIn_E9v1tlIo&callback=initMap">
    </script>


    <!-- Google Table Body -->
    <h3>Daily Production</h3>
    <div id="table_div"></div>    

    
</body>
</html>